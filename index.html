<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Presenze Semiconvittori</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
        }

        h1 {
            color: #333;
        }

        .immagine-adattabile {
            width: 100%;
            height: auto;
        }

        #dataOggi {
            text-align: center;
            margin-bottom: 20px;
            font-size: 1.5em;
            color: #333;
        }

        #pulsanteNaviga {
            display: block;
            margin: 0 auto;
            font-size: 1.5em; /* Puoi regolare la dimensione del carattere a tuo piacimento */
            padding: 3px 7px;
            background-color: #000dff; /* Cambia il colore di sfondo a tuo piacimento */
            color: #fff; /* Cambia il colore del testo a tuo piacimento */
            border: none;
            border-radius: 5px;
            cursor: pointer;
            margin-top: 30px;
        }

        #esportaButton {
            margin-top: 10px;
            font-size: 1.5em; /* Aumenta la dimensione del carattere */
            background-color: #4caf50; /* Cambia il colore di sfondo a verde */
            color: #fff; /* Cambia il colore del testo a bianco */
            padding: 3px 7px; /* Aumenta il padding per renderlo più grande */
            border: none;
            border-radius: 8px;
            cursor: pointer;
        }

        #reset {
            margin-top: 100px;
            font-size: 1.5em; /* Aumenta la dimensione del carattere */
            background-color: #ff0000; /* Cambia il colore di sfondo a verde */
            color: #fff; /* Cambia il colore del testo a bianco */
            padding: 3px 7px; /* Aumenta il padding per renderlo più grande */
            border: none;
            border-radius: 8px;
            cursor: pointer;
        }

        #lista {
            margin-bottom: 20px;
        }

        .riga {
            margin-bottom: 10px;
            display: flex;
            align-items: center;
        }

        .rigaPulsantePremutoI {
            background-color: #8dff8d; /* Verde */
        }

        .rigaPulsantePremutoII {
            background-color: #ffa500; /* Arancione */
        }

        .rigaPulsantePremutoIII {
            background-color: #add8e6; /* Azzurro */
        }

        .nome {
            flex-grow: 1;
            display: flex;
            align-items: center;
            margin-right: 10px;
        }

        .pulsante-container {
            display: flex;
            gap: 10px;
        }

        .pulsante-container button {
            flex-grow: 1;
            margin-left: 20px;
        }

        #riepilogo {
            display: block;
            margin-top: 100px;
        }

        #riepilogo h2 {
            color: #333;
        }

        #riepilogoLista {
            list-style-type: none;
            padding: 0;
            margin: 0;
        }

        #riepilogoLista li {
            margin-bottom: 5px;
        }

    </style>
</head>
<body>


<img src="intestazione.jpeg" alt="Descrizione dell'immagine" class="immagine-adattabile">

<div id="dataOggi"></div>

<h1>Presenze Semiconvittori</h1>

<h2> Classe I </h2>

<!-- Contenitore per l'elenco -->
<div id="lista">
    <!-- Riga 1 -->
    <div class="riga" id="riga01">
        <div class="nome">
            BERTERAME Giuseppe
            <div class="pulsante-container">
                <button onclick="aggiungiRiepilogo('BERTERAME Giuseppe', 'riga01', 'I TURNO')">I TURNO</button>
                <button onclick="aggiungiRiepilogo('BERTERAME Giuseppe', 'riga01', 'II TURNO')">II TURNO</button>
                <button onclick="aggiungiRiepilogo('BERTERAME Giuseppe', 'riga01', 'III TURNO')">III TURNO</button>
                <button onclick="aggiungiRiepilogo('BERTERAME Giuseppe', 'riga01', 'ASSENTE)">ASSENTE</button>
                <button onclick="annullaScelta('riga01')" id="annulla01" disabled>Annulla</button>
            </div>
        </div>
    </div>

    <!-- Riga 2 -->
    <div class="riga" id="riga02">
        <div class="nome">
            CARPELLI Luca
            <div class="pulsante-container">
                <button onclick="aggiungiRiepilogo('CARPELLI Luca', 'riga02', 'I TURNO')">I TURNO</button>
                <button onclick="aggiungiRiepilogo('CARPELLI Luca', 'riga02', 'II TURNO')">II TURNO</button>
                <button onclick="aggiungiRiepilogo('CARPELLI Luca', 'riga02', 'III TURNO')">III TURNO</button>
                <button onclick="aggiungiRiepilogo('CARPELLI Luca', 'riga02', 'ASSENTE')">ASSENTE</button>
                <button onclick="annullaScelta('riga02')" id="annulla02" disabled>Annulla</button>
            </div>
        </div>
    </div>

    <!-- Riga 3 -->
    <div class="riga" id="riga03">
        <div class="nome">
            LAROCCA Mariagrazia
            <div class="pulsante-container">
                <button onclick="aggiungiRiepilogo('LAROCCA Mariagrazia', 'riga03', 'I TURNO')">I TURNO</button>
                <button onclick="aggiungiRiepilogo('LAROCCA Mariagrazia', 'riga03', 'II TURNO')">II TURNO</button>
                <button onclick="aggiungiRiepilogo('LAROCCA Mariagrazia', 'riga03', 'III TURNO')">III TURNO</button>
                <button onclick="aggiungiRiepilogo('LAROCCA Mariagrazia', 'riga03', 'ASSENTE')">ASSENTE</button>
                <button onclick="annullaScelta('riga03')" id="annulla03" disabled>Annulla</button>
            </div>
        </div>
    </div>

    <!-- Riga 4 -->
    <div class="riga" id="riga04">
        <div class="nome">
            MECCA Gabriele
            <div class="pulsante-container">
                <button onclick="aggiungiRiepilogo('MECCA Gabriele', 'riga04', 'I TURNO')">I TURNO</button>
                <button onclick="aggiungiRiepilogo('MECCA Gabriele', 'riga04', 'II TURNO')">II TURNO</button>
                <button onclick="aggiungiRiepilogo('MECCA Gabriele', 'riga04', 'III TURNO')">III TURNO</button>
                <button onclick="aggiungiRiepilogo('MECCA Gabriele', 'riga04', 'ASSENTE')">ASSENTE</button>
                <button onclick="annullaScelta('riga04')" id="annulla04" disabled>Annulla</button>
            </div>
        </div>
    </div>

    <!-- Riga 5 -->
    <div class="riga" id="riga05">
        <div class="nome">
            RABASCA Vittorio
            <div class="pulsante-container">
                <button onclick="aggiungiRiepilogo('RABASCA Vittorio', 'riga05', 'I TURNO')">I TURNO</button>
                <button onclick="aggiungiRiepilogo('RABASCA Vittorio', 'riga05', 'II TURNO')">II TURNO</button>
                <button onclick="aggiungiRiepilogo('RABASCA Vittorio', 'riga05', 'III TURNO')">III TURNO</button>
                <button onclick="aggiungiRiepilogo('RABASCA Vittorio', 'riga05', 'ASSENTE')">ASSENTE</button>
                <button onclick="annullaScelta('riga05')" id="annulla05" disabled>Annulla</button>
            </div>
        </div>
    </div>

    <!-- Riga 6 -->
    <div class="riga" id="riga06">
        <div class="nome">
            SABATO Vincent
            <div class="pulsante-container">
                <button onclick="aggiungiRiepilogo('SABATO Vincent', 'riga06', 'I TURNO')">I TURNO</button>
                <button onclick="aggiungiRiepilogo('SABATO Vincent', 'riga06', 'II TURNO')">II TURNO</button>
                <button onclick="aggiungiRiepilogo('SABATO Vincent', 'riga06', 'III TURNO')">III TURNO</button>
                <button onclick="aggiungiRiepilogo('SABATO Vincent', 'riga06', 'ASSENTE')">ASSENTE</button>
                <button onclick="annullaScelta('riga06')" id="annulla06" disabled>Annulla</button>
            </div>
        </div>
    </div>

    <!-- Riga 7 -->
    <div class="riga" id="riga07">
        <div class="nome">
            SARLI Angelo
            <div class="pulsante-container">
                <button onclick="aggiungiRiepilogo('SARLI Angelo', 'riga07', 'I TURNO')">I TURNO</button>
                <button onclick="aggiungiRiepilogo('SARLI Angelo', 'riga07', 'II TURNO')">II TURNO</button>
                <button onclick="aggiungiRiepilogo('SARLI Angelo', 'riga07', 'III TURNO')">III TURNO</button>
                <button onclick="aggiungiRiepilogo('SARLI Angelo', 'riga07', 'ASSENTE')">ASSENTE</button>
                <button onclick="annullaScelta('riga07')" id="annulla07" disabled>Annulla</button>
            </div>
        </div>
    </div>

    <!-- Riga 8 -->
    <div class="riga" id="riga08">
        <div class="nome">
            STOLFI Giuseppe
            <div class="pulsante-container">
                <button onclick="aggiungiRiepilogo('STOLFI Giuseppe', 'riga08', 'I TURNO')">I TURNO</button>
                <button onclick="aggiungiRiepilogo('STOLFI Giuseppe', 'riga08', 'II TURNO')">II TURNO</button>
                <button onclick="aggiungiRiepilogo('STOLFI Giuseppe', 'riga08', 'III TURNO')">III TURNO</button>
                <button onclick="aggiungiRiepilogo('STOLFI Giuseppe', 'riga08', 'ASSENTE')">ASSENTE</button>
                <button onclick="annullaScelta('riga08')" id="annulla08" disabled>Annulla</button>
            </div>
        </div>
    </div>

    <!-- Riga 9 -->
    <div class="riga" id="riga09">
        <div class="nome">
            TELESCA Monica
            <div class="pulsante-container">
                <button onclick="aggiungiRiepilogo('TELESCA Monica', 'riga09', 'I TURNO')">I TURNO</button>
                <button onclick="aggiungiRiepilogo('TELESCA Monica', 'riga09', 'II TURNO')">II TURNO</button>
                <button onclick="aggiungiRiepilogo('TELESCA Monica', 'riga09', 'III TURNO')">III TURNO</button>
                <button onclick="aggiungiRiepilogo('TELESCA Monica', 'riga09', 'ASSENTE')">ASSENTE</button>
                <button onclick="annullaScelta('riga09')" id="annulla09" disabled>Annulla</button>
            </div>
        </div>
    </div>

    <!-- Riga 10 -->
    <div class="riga" id="riga10">
        <div class="nome">
            ROSA Michele
            <div class="pulsante-container">
                <button onclick="aggiungiRiepilogo('ROSA Michele', 'riga10', 'I TURNO')">I TURNO</button>
                <button onclick="aggiungiRiepilogo('ROSA Michele', 'riga10', 'II TURNO')">II TURNO</button>
                <button onclick="aggiungiRiepilogo('ROSA Michele', 'riga10', 'III TURNO')">III TURNO</button>
                <button onclick="aggiungiRiepilogo('ROSA Michele', 'riga10', 'ASSENTE')">ASSENTE</button>
                <button onclick="annullaScelta('riga10')" id="annulla10" disabled>Annulla</button>
            </div>
        </div>
    </div>

    <!-- Riga 11 -->
    <div class="riga" id="riga11">
        <div class="nome">
            STEFANILE Michele
            <div class="pulsante-container">
                <button onclick="aggiungiRiepilogo('STEFANILE Michele', 'riga11', 'I TURNO')">I TURNO</button>
                <button onclick="aggiungiRiepilogo('STEFANILE Michele', 'riga11', 'II TURNO')">II TURNO</button>
                <button onclick="aggiungiRiepilogo('STEFANILE Michele', 'riga11', 'III TURNO')">III TURNO</button>
                <button onclick="aggiungiRiepilogo('STEFANILE Michele', 'riga11', 'ASSENTE')">ASSENTE</button>
                <button onclick="annullaScelta('riga11')" id="annulla11" disabled>Annulla</button>
            </div>
        </div>
    </div>

    <!-- Aggiungi altre righe secondo necessità -->
</div>

<h2>Classe II </h2>

<!-- Contenitore per l'elenco -->
<div id="lista">
    <!-- Riga 12 -->
    <div class="riga" id="riga12">
        <div class="nome">
            ALLEGRETTI Marco
            <div class="pulsante-container">
                <button onclick="aggiungiRiepilogo('ALLEGRETTI Marco', 'riga12', 'I TURNO')">I TURNO</button>
                <button onclick="aggiungiRiepilogo('ALLEGRETTI Marco', 'riga12', 'II TURNO')">II TURNO</button>
                <button onclick="aggiungiRiepilogo('ALLEGRETTI Marco', 'riga12', 'III TURNO')">III TURNO</button>
                <button onclick="aggiungiRiepilogo('ALLEGRETTI Marco', 'riga12', 'ASSENTE')">ASSENTE</button>
                <button onclick="annullaScelta('riga12')" id="annulla12" disabled>Annulla</button>
            </div>
        </div>
    </div>

    <!-- Riga 13 -->
    <div class="riga" id="riga13">
        <div class="nome">
            BALASA Alessandro
            <div class="pulsante-container">
                <button onclick="aggiungiRiepilogo('BALASA Alessandro', 'riga13', 'I TURNO')">I TURNO</button>
                <button onclick="aggiungiRiepilogo('BALASA Alessandro', 'riga13', 'II TURNO')">II TURNO</button>
                <button onclick="aggiungiRiepilogo('BALASA Alessandro', 'riga13', 'III TURNO')">III TURNO</button>
                <button onclick="aggiungiRiepilogo('BALASA Alessandro', 'riga13', 'ASSENTE')">ASSENTE</button>
                <button onclick="annullaScelta('riga13')" id="annulla13" disabled>Annulla</button>
            </div>
        </div>
    </div>

    <!-- Riga 14 -->
    <div class="riga" id="riga14">
        <div class="nome">
            DEMA Antonella
            <div class="pulsante-container">
                <button onclick="aggiungiRiepilogo('DEMA Antonella', 'riga14', 'I TURNO')">I TURNO</button>
                <button onclick="aggiungiRiepilogo('DEMA Antonella', 'riga14', 'II TURNO')">II TURNO</button>
                <button onclick="aggiungiRiepilogo('DEMA Antonella', 'riga14', 'III TURNO')">III TURNO</button>
                <button onclick="aggiungiRiepilogo('DEMA Antonella', 'riga14', 'ASSENTE')">ASSENTE</button>
                <button onclick="annullaScelta('riga14')" id="annulla14" disabled>Annulla</button>
            </div>
        </div>
    </div>

    <!-- Riga 15 -->
    <div class="riga" id="riga15">
        <div class="nome">
            FASANELLA Adele
            <div class="pulsante-container">
                <button onclick="aggiungiRiepilogo('FASANELLA Adele', 'riga15', 'I TURNO')">I TURNO</button>
                <button onclick="aggiungiRiepilogo('FASANELLA Adele', 'riga15', 'II TURNO')">II TURNO</button>
                <button onclick="aggiungiRiepilogo('FASANELLA Adele', 'riga15', 'III TURNO')">III TURNO</button>
                <button onclick="aggiungiRiepilogo('FASANELLA Adele', 'riga15', 'ASSENTE')">ASSENTE</button>
                <button onclick="annullaScelta('riga15')" id="annulla15" disabled>Annulla</button>
            </div>
        </div>
    </div>

    <!-- Riga 16 -->
    <div class="riga" id="riga16">
        <div class="nome">
            FILIPPI Andrea Livio
            <div class="pulsante-container">
                <button onclick="aggiungiRiepilogo('FILIPPI Andrea Livio', 'riga16', 'I TURNO')">I TURNO</button>
                <button onclick="aggiungiRiepilogo('FILIPPI Andrea Livio', 'riga16', 'II TURNO')">II TURNO</button>
                <button onclick="aggiungiRiepilogo('FILIPPI Andrea Livio', 'riga16', 'III TURNO')">III TURNO</button>
                <button onclick="aggiungiRiepilogo('FILIPPI Andrea Livio', 'riga16', 'ASSENTE')">ASSENTE</button>
                <button onclick="annullaScelta('riga16')" id="annulla16" disabled>Annulla</button>
            </div>
        </div>
    </div>

    <!-- Riga 17 -->
    <div class="riga" id="riga17">
        <div class="nome">
            GENTILE Maurizio
            <div class="pulsante-container">
                <button onclick="aggiungiRiepilogo('GENTILE Maurizio', 'riga17', 'I TURNO')">I TURNO</button>
                <button onclick="aggiungiRiepilogo('GENTILE Maurizio', 'riga17', 'II TURNO')">II TURNO</button>
                <button onclick="aggiungiRiepilogo('GENTILE Maurizio', 'riga17', 'III TURNO')">III TURNO</button>
                <button onclick="aggiungiRiepilogo('GENTILE Maurizio', 'riga17', 'ASSENTE')">ASSENTE</button>
                <button onclick="annullaScelta('riga17')" id="annulla17" disabled>Annulla</button>
            </div>
        </div>
    </div>

    <!-- Riga 18 -->
    <div class="riga" id="riga18">
        <div class="nome">
            MAGNO Alessandro
            <div class="pulsante-container">
                <button onclick="aggiungiRiepilogo('MAGNO Alessandro', 'riga18', 'I TURNO')">I TURNO</button>
                <button onclick="aggiungiRiepilogo('MAGNO Alessandro', 'riga18', 'II TURNO')">II TURNO</button>
                <button onclick="aggiungiRiepilogo('MAGNO Alessandro', 'riga18', 'III TURNO')">III TURNO</button>
                <button onclick="aggiungiRiepilogo('MAGNO Alessandro', 'riga18', 'ASSENTE')">ASSENTE</button>
                <button onclick="annullaScelta('riga18')" id="annulla18" disabled>Annulla</button>
            </div>
        </div>
    </div>

    <!-- Riga 19 -->
    <div class="riga" id="riga19">
        <div class="nome">
            PISANO Emilio
            <div class="pulsante-container">
                <button onclick="aggiungiRiepilogo('PISANO Emilio', 'riga19', 'I TURNO')">I TURNO</button>
                <button onclick="aggiungiRiepilogo('PISANO Emilio', 'riga19', 'II TURNO')">II TURNO</button>
                <button onclick="aggiungiRiepilogo('PISANO Emilio', 'riga19', 'III TURNO')">III TURNO</button>
                <button onclick="aggiungiRiepilogo('PISANO Emilio', 'riga19', 'ASSENTE')">ASSENTE</button>
                <button onclick="annullaScelta('riga19')" id="annulla19" disabled>Annulla</button>
            </div>
        </div>
    </div>

    <!-- Riga 20 -->
    <div class="riga" id="riga20">
        <div class="nome">
            ROCCO Gerardo
            <div class="pulsante-container">
                <button onclick="aggiungiRiepilogo('ROCCO Gerardo', 'riga20', 'I TURNO')">I TURNO</button>
                <button onclick="aggiungiRiepilogo('ROCCO Gerardo', 'riga20', 'II TURNO')">II TURNO</button>
                <button onclick="aggiungiRiepilogo('ROCCO Gerardo', 'riga20', 'III TURNO')">III TURNO</button>
                <button onclick="aggiungiRiepilogo('ROCCO Gerardo', 'riga20', 'ASSENTE')">ASSENTE</button>
                <button onclick="annullaScelta('riga20')" id="annulla20" disabled>Annulla</button>
            </div>
        </div>
    </div>

    <!-- Riga 21 -->
    <div class="riga" id="riga21">
        <div class="nome">
            RUFRANO Elia
            <div class="pulsante-container">
                <button onclick="aggiungiRiepilogo('RUFRANO Elia', 'riga21', 'I TURNO')">I TURNO</button>
                <button onclick="aggiungiRiepilogo('RUFRANO Elia', 'riga21', 'II TURNO')">II TURNO</button>
                <button onclick="aggiungiRiepilogo('RUFRANO Elia', 'riga21', 'III TURNO')">III TURNO</button>
                <button onclick="aggiungiRiepilogo('RUFRANO Elia', 'riga21', 'ASSENTE')">ASSENTE</button>
                <button onclick="annullaScelta('riga21')" id="annulla21" disabled>Annulla</button>
            </div>
        </div>
    </div>

</div>


<h2>Classe III </h2>

<!-- Contenitore per l'elenco -->
<div id="lista">

    <!-- Riga 22 -->
    <div class="riga" id="riga22">
        <div class="nome">
            CASELLA Alessandro
            <div class="pulsante-container">
                <button onclick="aggiungiRiepilogo('CASELLA Alessandro', 'riga22', 'I TURNO')">I TURNO</button>
                <button onclick="aggiungiRiepilogo('CASELLA Alessandro', 'riga22', 'II TURNO')">II TURNO</button>
                <button onclick="aggiungiRiepilogo('CASELLA Alessandro', 'riga22', 'III TURNO')">III TURNO</button>
                <button onclick="aggiungiRiepilogo('CASELLA Alessandro', 'riga22', 'ASSENTE')">ASSENTE</button>
                <button onclick="annullaScelta('riga22')" id="annulla22" disabled>Annulla</button>
            </div>
        </div>
    </div>

    <!-- Riga 23 -->
    <div class="riga" id="riga23">
        <div class="nome">
            CONTESSA Michela
            <div class="pulsante-container">
                <button onclick="aggiungiRiepilogo('CONTESSA Michela', 'riga23', 'I TURNO')">I TURNO</button>
                <button onclick="aggiungiRiepilogo('CONTESSA Michela', 'riga23', 'II TURNO')">II TURNO</button>
                <button onclick="aggiungiRiepilogo('CONTESSA Michela', 'riga23', 'III TURNO')">III TURNO</button>
                <button onclick="aggiungiRiepilogo('CONTESSA Michela', 'riga23', 'ASSENTE')">ASSENTE</button>
                <button onclick="annullaScelta('riga23')" id="annulla23" disabled>Annulla</button>
            </div>
        </div>
    </div>

    <!-- Riga 24 -->
    <div class="riga" id="riga24">
        <div class="nome">
            DAMIANO Ginevra
            <div class="pulsante-container">
                <button onclick="aggiungiRiepilogo('DAMIANO Ginevra', 'riga24', 'I TURNO')">I TURNO</button>
                <button onclick="aggiungiRiepilogo('DAMIANO Ginevra', 'riga24', 'II TURNO')">II TURNO</button>
                <button onclick="aggiungiRiepilogo('DAMIANO Ginevra', 'riga24', 'III TURNO')">III TURNO</button>
                <button onclick="aggiungiRiepilogo('DAMIANO Ginevra', 'riga24', 'ASSENTE')">ASSENTE</button>
                <button onclick="annullaScelta('riga24')" id="annulla24" disabled>Annulla</button>
            </div>
        </div>
    </div>
</div>


<h2>Classe IV </h2>

<!-- Contenitore per l'elenco -->
<div id="lista">
    <!-- Riga 25 -->
    <div class="riga" id="riga25">
        <div class="nome">
            VACCARO Anna
            <div class="pulsante-container">
                <button onclick="aggiungiRiepilogo('VACCARO Anna', 'riga25', 'I TURNO')">I TURNO</button>
                <button onclick="aggiungiRiepilogo('VACCARO Anna', 'riga25', 'II TURNO')">II TURNO</button>
                <button onclick="aggiungiRiepilogo('VACCARO Anna', 'riga25', 'III TURNO')">III TURNO</button>
                <button onclick="aggiungiRiepilogo('VACCARO Anna', 'riga25', 'ASSENTE')">ASSENTE</button>
                <button onclick="annullaScelta('riga25')" id="annulla25" disabled>Annulla</button>
            </div>
        </div>
    </div>
</div>

<h2>Classe V </h2>

<!-- Contenitore per l'elenco -->
<div id="lista">
    <!-- Riga 26 -->
    <div class="riga" id="riga26">
        <div class="nome">
            CALABRESE Marco
            <div class="pulsante-container">
                <button onclick="aggiungiRiepilogo('CALABRESE Marco', 'riga26', 'I TURNO')">I TURNO</button>
                <button onclick="aggiungiRiepilogo('CALABRESE Marco', 'riga26', 'II TURNO')">II TURNO</button>
                <button onclick="aggiungiRiepilogo('CALABRESE Marco', 'riga26', 'III TURNO')">III TURNO</button>
                <button onclick="aggiungiRiepilogo('CALABRESE Marco', 'riga26', 'ASSENTE')">ASSENTE</button>
                <button onclick="annullaScelta('riga26')" id="annulla26" disabled>Annulla</button>
            </div>
        </div>
    </div>

    <!-- Riga 27 -->
    <div class="riga" id="riga27">
        <div class="nome">
            SCOGNAMIGLIO Francesco
            <div class="pulsante-container">
                <button onclick="aggiungiRiepilogo('SCOGNAMIGLIO Francesco', 'riga27', 'I TURNO')">I TURNO</button>
                <button onclick="aggiungiRiepilogo('SCOGNAMIGLIO Francesco', 'riga27', 'II TURNO')">II TURNO</button>
                <button onclick="aggiungiRiepilogo('SCOGNAMIGLIO Francesco', 'riga27', 'III TURNO')">III TURNO</button>
                <button onclick="aggiungiRiepilogo('SCOGNAMIGLIO Francesco', 'riga27', 'ASSENTE')">ASSENTE</button>
                <button onclick="annullaScelta('riga27')" id="annulla27" disabled>Annulla</button>
            </div>
        </div>
    </div>
</div>





<!-- Riepilogo -->
<div id="riepilogo">
    <h2>Riepilogo</h2>
    <ul id="riepilogoLista"></ul>
    <button id="esportaButton" onclick="esportaRiepilogo()">Esporta Riepilogo</button>
    
</div>

<button id="reset"  onclick="resetta()">Resetta</button>

<button id="pulsanteNaviga" onclick="navigaAPagina('convittoriCena.html')">Presenze Convittori Cena</button>

<button id="pulsanteNaviga" onclick="navigaAPagina('convittori.html')" >Presenze Convittori</button>

<script>
    var sommaITurno = 0;
    var sommaIITurno = 0;
    var sommaIIITurno = 0; 
    var elencoITurno = [];
    var elencoIITurno = [];
    var elencoIIITurno = []; 
    var elencoAssenti = [];


    // Funzione per aggiungere al riepilogo
    function aggiungiRiepilogo(nome, idRiga, turno) {
        // Aggiornamento della somma e degli elenchi
        if(turno === 'ASSENTE'){
            elencoAssenti.push(nome);
        } else if (turno === 'I TURNO') {
            playSound(1);
            sommaITurno++;
            elencoITurno.push(nome);
            document.getElementById(idRiga).classList.add('rigaPulsantePremutoI');
        } else if (turno === 'II TURNO') {
            playSound(2);
            sommaIITurno++;
            elencoIITurno.push(nome);
            document.getElementById(idRiga).classList.add('rigaPulsantePremutoII');
        } else if(turno === 'III TURNO') {
            playSound(3);
            sommaIIITurno++;
            elencoIIITurno.push(nome);
            document.getElementById(idRiga).classList.add('rigaPulsantePremutoIII')
        }

        // Visualizza il riepilogo se non è già visibile
        var riepilogo = document.getElementById('riepilogo');
        if (riepilogo.style.display === 'none') {
            riepilogo.style.display = 'block';
        }

        // Disabilita i pulsanti e cambia lo sfondo della riga
        var riga = document.getElementById(idRiga);
        riga.classList.add('rigaPulsantePremuto');
        var pulsanti = riga.querySelectorAll('.pulsante-container button');
        pulsanti.forEach(function(pulsante) {
            pulsante.disabled = true;
        });

        // Abilita il pulsante "Annulla"
        var annullaButton = document.getElementById('annulla' + idRiga.slice(-2));
        annullaButton.disabled = false;

        aggiornaRiepilogo();

        salvaStatoInLocalStorage();
    }


    function leggiPassword(){
        var passwordInserita = prompt("Inserisci la password per annullare la scelta:");

        // Controlla se la password è corretta
        var passwordCorretta = "srosa24"; // Sostituisci con la tua password
        if (passwordInserita !== passwordCorretta) {
            alert("Password errata.");
            return false; // Interrompe l'esecuzione della funzione se la password è errata
        } 
        return true;
    }


    // Funzione per annullare la scelta
    function annullaScelta(idRiga) {
        if(!leggiPassword()){
            return;
        }
        var riga = document.getElementById(idRiga);
        riga.classList.remove('rigaPulsantePremuto', 'rigaPulsantePremutoI', 'rigaPulsantePremutoII', 'rigaPulsantePremutoIII');
        var pulsanti = riga.querySelectorAll('.pulsante-container button');
        pulsanti.forEach(function(pulsante) {
            pulsante.disabled = false;
        });

        // Disabilita il pulsante "Annulla"
        var annullaButton = document.getElementById('annulla' + idRiga.slice(-2));
        annullaButton.disabled = true;

        nome = riga.querySelector('.nome').firstChild.textContent.trim()
        // Verifica se il nome estratto è presente nell'array
        if (elencoITurno.includes(nome)) {
            indiceITurno = elencoITurno.indexOf(nome);
            elencoITurno.splice(indiceITurno, 1);
            sommaITurno--;
        } else if(elencoIITurno.includes(nome)) {
            indiceIITurno = elencoIITurno.indexOf(nome);
            elencoIITurno.splice(indiceIITurno, 1);
            sommaIITurno--;
        } else if(elencoIIITurno.includes(nome)){
            indiceIIITurno = elencoIIITurno.indexOf(nome);
            elencoIIITurno.splice(indiceIIITurno, 1);
            sommaIIITurno--;
        } else {
            indiceAssente = elencoAssenti.indexOf(nome);
            elencoAssenti.splice(indiceAssente,1);
        }

        aggiornaRiepilogo()

        salvaStatoInLocalStorage()
    }

    // Funzione per aggiornare il riepilogo
    function aggiornaRiepilogo() {
        // Trova l'elemento della lista del riepilogo
        var riepilogoLista = document.getElementById('riepilogoLista');

        // Cancella i vecchi elementi nella lista del riepilogo
        riepilogoLista.innerHTML = '';

        elencoITurno.forEach(function(nome) {
            var nuovaVoce = document.createElement('li');
            nuovaVoce.textContent = nome + ' - I TURNO';
            riepilogoLista.appendChild(nuovaVoce);
        });

        var spazio = document.createElement('li');
        spazio.style.height = '10px'; 
        riepilogoLista.appendChild(spazio);

        elencoIITurno.forEach(function(nome) {
            var nuovaVoce = document.createElement('li');
            nuovaVoce.textContent = nome + ' - II TURNO';
            riepilogoLista.appendChild(nuovaVoce);
        });

        riepilogoLista.appendChild(spazio);


        elencoIIITurno.forEach(function(nome) {
            var nuovaVoce = document.createElement('li');
            nuovaVoce.textContent = nome + ' - III TURNO';
            riepilogoLista.appendChild(nuovaVoce);
        });

        riepilogoLista.appendChild(spazio);

        elencoAssenti.forEach(function(nome) {
            var nuovaVoce = document.createElement('li');
            nuovaVoce.textContent = nome + ' - ASSENTE';
            riepilogoLista.appendChild(nuovaVoce);
        });

    }

    // Funzione per ottenere la data di oggi in formato "gg/mm/aaaa"
    function getDataOggi() {
        var oggi = new Date();
        var giorno = oggi.getDate();
        var mese = oggi.getMonth() + 1; // Gennaio è 0
        var anno = oggi.getFullYear();

        // Formatta la data come "gg/mm/aaaa"
        return giorno + '/' + mese + '/' + anno;
    }

    // Funzione per caricare lo stato delle liste da localStorage
    function caricaStatoDaLocalStorage() {
            // Carica i dati da localStorage
            var statoITurno = localStorage.getItem('statoITurnoSemiconvittori');
            var statoIITurno = localStorage.getItem('statoIITurnoSemiconvittori');
            var statoIIITurno = localStorage.getItem('statoIIITurnoSemiconvittori');
            var statoAssenti = localStorage.getItem('statoAssentiSemiconvittori');


            // Verifica se i dati sono presenti in localStorage
            if (statoITurno) {
                elencoITurno = JSON.parse(statoITurno);
                sommaITurno = elencoITurno.length;
            }

            if (statoIITurno) {
                elencoIITurno = JSON.parse(statoIITurno);
                sommaIITurno = elencoIITurno.length;
            } 

            if(statoIIITurno){
                elencoIIITurno = JSON.parse(statoIIITurno);
                sommaIIITurno = elencoIIITurno.length;
            }

            if(statoAssenti){
                statoAssenti = JSON.parse(statoAssenti);
            }

            // Aggiorna il riepilogo
            aggiornaRiepilogo();
        }


    function salvaStatoInLocalStorage() {
        // Salva i dati in localStorage
        localStorage.setItem('statoITurnoSemiconvittori', JSON.stringify(elencoITurno));
        localStorage.setItem('statoIITurnoSemiconvittori', JSON.stringify(elencoIITurno));
        localStorage.setItem('statoIIITurnoSemiconvittori', JSON.stringify(elencoIIITurno));
        localStorage.setItem('statoAssentiSemiconvittori', JSON.stringify(elencoAssenti))
    }

    // Funzione per colorare le righe in base al turno
    function ricoloraRighe() {
        elencoITurno.forEach(function (nome) {
            var idRiga = ricercaIdRigaDaNome(nome);
            if (idRiga) {
                var riga = document.getElementById(idRiga);
                riga.classList.add('rigaPulsantePremutoI');
                riga.classList.add('rigaPulsantePremuto');
                var pulsanti = riga.querySelectorAll('.pulsante-container button');
                pulsanti.forEach(function(pulsante) {
                    pulsante.disabled = true;
                });

                // Abilita il pulsante "Annulla"
                var annullaButton = document.getElementById('annulla' + idRiga.slice(-2));
                annullaButton.disabled = false;
            }
        });

        elencoIITurno.forEach(function (nome) {
            var idRiga = ricercaIdRigaDaNome(nome);
            if (idRiga) {
                var riga = document.getElementById(idRiga);
                riga.classList.add('rigaPulsantePremutoII');
                riga.classList.add('rigaPulsantePremuto');
                var pulsanti = riga.querySelectorAll('.pulsante-container button');
                pulsanti.forEach(function(pulsante) {
                    pulsante.disabled = true;
                });

                // Abilita il pulsante "Annulla"
                var annullaButton = document.getElementById('annulla' + idRiga.slice(-2));
                annullaButton.disabled = false;
            }
        });

        elencoIIITurno.forEach(function (nome) {
            var idRiga = ricercaIdRigaDaNome(nome);
            if (idRiga) {
                var riga = document.getElementById(idRiga);
                riga.classList.add('rigaPulsantePremutoIII');
                riga.classList.add('rigaPulsantePremuto');
                var pulsanti = riga.querySelectorAll('.pulsante-container button');
                pulsanti.forEach(function(pulsante) {
                    pulsante.disabled = true;
                });

                // Abilita il pulsante "Annulla"
                var annullaButton = document.getElementById('annulla' + idRiga.slice(-2));
                annullaButton.disabled = false;
            }
        });

        elencoAssenti.forEach(function (nome) {
            var idRiga = ricercaIdRigaDaNome(nome);
            if (idRiga) {
                var riga = document.getElementById(idRiga);
                riga.classList.add('rigaPulsantePremuto');
                var pulsanti = riga.querySelectorAll('.pulsante-container button');
                pulsanti.forEach(function(pulsante) {
                    pulsante.disabled = true;
                });

                // Abilita il pulsante "Annulla"
                var annullaButton = document.getElementById('annulla' + idRiga.slice(-2));
                annullaButton.disabled = false;
            }
        });    
    }

    // Funzione per cercare l'ID della riga da un nome
    function ricercaIdRigaDaNome(nome) {
        console.log(nome)
        var righe = document.querySelectorAll('.riga');
        for (var i = 0; i < righe.length; i++) {
            var nomeRiga = righe[i].querySelector('.nome').firstChild.textContent.trim();
            if (nomeRiga === nome) {
                console.log(righe[i].id)
                return righe[i].id;
            }
        }
        return null;
    }

    function resetta() {
        if(!leggiPassword()){
            return;
        } 
        localStorage.removeItem('statoITurnoSemiconvittori');
        localStorage.removeItem('statoIITurnoSemiconvittori');
        localStorage.removeItem('statoIIITurnoSemiconvittori');
        localStorage.removeItem('statoAssentiSemiconvittori');
        elencoITurno = [];
        elencoIITurno = [];
        elencoIIITurno = [];
        sommaITurno = 0;
        sommaIITurno = 0;
        sommaIIITurno = 0;
        location.reload();
    }

    // Chiamata per caricare lo stato al caricamento della pagina
    caricaStatoDaLocalStorage();
    ricoloraRighe();

    // Aggiungi la data di oggi al div con id "dataOggi"
    document.getElementById('dataOggi').textContent = 'Pranzo ' + getDataOggi();

    // Funzione per esportare il riepilogo
    function esportaRiepilogo() {

        var oggi = new Date();
        var giorno = oggi.getDate();
        var mese = oggi.getMonth() + 1; // Gennaio è 0
        var anno = oggi.getFullYear();

        // Creazione del testo per il file .txt
        var testoFile = "Pranzo semiconvittori " + giorno + '/' + mese + '/' + anno + "\n\n";
        testoFile += "Elenco I TURNO:\n" + elencoITurno.join("\n") + "\nTotale: " + sommaITurno + "\n\n";
        testoFile += "Elenco II TURNO:\n" + elencoIITurno.join("\n") + "\nTotale: " + sommaIITurno + "\n\n";
        testoFile += "Elenco III TURNO:\n" + elencoIIITurno.join("\n") + "\nTotale: " + sommaIIITurno + "\n\n\n\n";
        var tot = sommaITurno + sommaIITurno + sommaIIITurno
        testoFile += "TOTALE: " + tot + "\n\n\n\n";

        testoFile += "ASSENTI: \n" + elencoAssenti.join("\n");

        // Creazione dell'oggetto Blob
        var blob = new Blob([testoFile], { type: 'text/plain' });

        // Creazione del link di download
        var link = document.createElement('a');
        link.href = window.URL.createObjectURL(blob);

        var nomeFile = 'Semiconvittori_Pranzo_' + giorno + '_' + mese + '_' + anno + '.txt';

        link.download = nomeFile;
        link.click();
        }

    // Funzione per navigare alla nuova pagina
    function navigaAPagina(pagina) {
        window.location.href = pagina;
    }

    function playSound(turno) {
        if(turno === 1) {
            var audio = new Audio('suono2.mp3');
            audio.play();
        } else if (turno === 2) {
            var audio = new Audio('suono1.mp3');
            audio.play();
        } else {
            var audio = new Audio('suono3.mp3');
            audio.play();
        }
    }

</script>

</body>
</html>
