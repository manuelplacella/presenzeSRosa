<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Presenze Convittori</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
        }

        h1 {
            color: #333;
        }

        #pulsanteNaviga {
            display: block;
            margin: 0 auto;
            font-size: 1.5em; /* Puoi regolare la dimensione del carattere a tuo piacimento */
            padding: 3px 7px;
            background-color: #000dff; /* Cambia il colore di sfondo a tuo piacimento */
            color: #fff; /* Cambia il colore del testo a tuo piacimento */
            border: none;
            border-radius: 5px;
            cursor: pointer;
            margin-top: 30px;
        }

        .immagine-adattabile {
            width: 100%;
            height: auto;
        }

        #dataOggi {
            text-align: center;
            margin-bottom: 20px;
            font-size: 1.5em;
            color: #333;
        }

        #lista {
            margin-bottom: 20px;
        }

        .riga {
            margin-bottom: 10px;
            display: flex;
            align-items: center;
        }

        .rigaPulsantePremutoI {
            background-color: #8dff8d; /* Verde */
        }

        .rigaPulsantePremutoII {
            background-color: #ffa500; /* Arancione */
        }

        .rigaPulsantePremutoIII {
            background-color: #add8e6; /* Azzurro */
        }

        .nome {
            flex-grow: 1;
            display: flex;
            align-items: center;
            margin-right: 10px;
        }

        .pulsante-container {
            display: flex;
            gap: 10px;
        }

        .pulsante-container button {
            flex-grow: 1;
            margin-left: 20px;
        }

        #riepilogo {
            display: block;
            margin-top: 100px;
        }

        #riepilogo h2 {
            color: #333;
        }

        #riepilogoLista {
            list-style-type: none;
            padding: 0;
            margin: 0;
        }

        #riepilogoLista li {
            margin-bottom: 5px;
        }

        #esportaButton {
            margin-top: 10px;
            font-size: 1.5em; /* Aumenta la dimensione del carattere */
            background-color: #4caf50; /* Cambia il colore di sfondo a verde */
            color: #fff; /* Cambia il colore del testo a bianco */
            padding: 3px 7px; /* Aumenta il padding per renderlo più grande */
            border: none;
            border-radius: 8px;
            cursor: pointer;
        }

        #reset {
            margin-top: 100px;
            font-size: 1.5em; /* Aumenta la dimensione del carattere */
            background-color: #ff0000; /* Cambia il colore di sfondo a verde */
            color: #fff; /* Cambia il colore del testo a bianco */
            padding: 3px 7px; /* Aumenta il padding per renderlo più grande */
            border: none;
            border-radius: 8px;
            cursor: pointer;
        }

    </style>
</head>
<body>

<img src="intestazione.jpeg" alt="Descrizione dell'immagine" class="immagine-adattabile">

<div id="dataOggi"></div>

<h1>Presenze Convittori</h1>

<!-- Contenitore per l'elenco -->
<div id="lista">
    <div class="riga" id="riga01">
        <div class="nome">
            AMOAKO Benjiman
            <div class="pulsante-container">
                <button onclick="aggiungiRiepilogo('AMOAKO Benjiman', 'riga01', 'I TURNO')">I TURNO</button>
                <button onclick="aggiungiRiepilogo('AMOAKO Benjiman', 'riga01', 'II TURNO')">II TURNO</button>
                <button onclick="aggiungiRiepilogo('AMOAKO Benjiman', 'riga01', 'ASSENTE')">ASSENTE</button>
                <button onclick="annullaScelta('riga01')" id="annulla01" disabled>Annulla</button>
            </div>
        </div>
    </div>
    
    <div class="riga" id="riga02">
        <div class="nome">
            BOVI Nicolò
            <div class="pulsante-container">
                <button onclick="aggiungiRiepilogo('BOVI Nicolò', 'riga02', 'I TURNO')">I TURNO</button>
                <button onclick="aggiungiRiepilogo('BOVI Nicolò', 'riga02', 'II TURNO')">II TURNO</button>
                <button onclick="aggiungiRiepilogo('BOVI Nicolò', 'riga02', 'ASSENTE')">ASSENTE</button>
                <button onclick="annullaScelta('riga02')" id="annulla02" disabled>Annulla</button>
            </div>
        </div>
    </div>
    
    <div class="riga" id="riga03">
        <div class="nome">
            CENCI Antonio
            <div class="pulsante-container">
                <button onclick="aggiungiRiepilogo('CENCI Antonio', 'riga03', 'I TURNO')">I TURNO</button>
                <button onclick="aggiungiRiepilogo('CENCI Antonio', 'riga03', 'II TURNO')">II TURNO</button>
                <button onclick="aggiungiRiepilogo('CENCI Antonio', 'riga03', 'ASSENTE')">ASSENTE</button>
                <button onclick="annullaScelta('riga03')" id="annulla03" disabled>Annulla</button>
            </div>
        </div>
    </div>
    
    <div class="riga" id="riga04">
        <div class="nome">
            CICALE Egidio
            <div class="pulsante-container">
                <button onclick="aggiungiRiepilogo('CICALE Egidio', 'riga04', 'I TURNO')">I TURNO</button>
                <button onclick="aggiungiRiepilogo('CICALE Egidio', 'riga04', 'II TURNO')">II TURNO</button>
                <button onclick="aggiungiRiepilogo('CICALE Egidio', 'riga04', 'ASSENTE')">ASSENTE</button>
                <button onclick="annullaScelta('riga04')" id="annulla04" disabled>Annulla</button>
            </div>
        </div>
    </div>
    
    <div class="riga" id="riga05">
        <div class="nome">
            CORLETO Giuseppe
            <div class="pulsante-container">
                <button onclick="aggiungiRiepilogo('CORLETO Giuseppe', 'riga05', 'I TURNO')">I TURNO</button>
                <button onclick="aggiungiRiepilogo('CORLETO Giuseppe', 'riga05', 'II TURNO')">II TURNO</button>
                <button onclick="aggiungiRiepilogo('CORLETO Giuseppe', 'riga05', 'ASSENTE')">ASSENTE</button>
                <button onclick="annullaScelta('riga05')" id="annulla05" disabled>Annulla</button>
            </div>
        </div>
    </div>
    
    <div class="riga" id="riga06">
        <div class="nome">
            CORREALE Aniello
            <div class="pulsante-container">
                <button onclick="aggiungiRiepilogo('CORREALE Aniello', 'riga06', 'I TURNO')">I TURNO</button>
                <button onclick="aggiungiRiepilogo('CORREALE Aniello', 'riga06', 'II TURNO')">II TURNO</button>
                <button onclick="aggiungiRiepilogo('CORREALE Aniello', 'riga06', 'ASSENTE')">ASSENTE</button>
                <button onclick="annullaScelta('riga06')" id="annulla06" disabled>Annulla</button>
            </div>
        </div>
    </div>
    
    <div class="riga" id="riga07">
    <div class="nome">
        D'AMATO Luigi
        <div class="pulsante-container">
            <button onclick="aggiungiRiepilogo(&quot;D'AMATO Luigi&quot;, 'riga07', 'I TURNO')">I TURNO</button>
            <button onclick="aggiungiRiepilogo(&quot;D'AMATO Luigi&quot;, 'riga07', 'II TURNO')">II TURNO</button>
            <button onclick="aggiungiRiepilogo(&quot;D'AMATO Luigi&quot;, 'riga07', 'ASSENTE')">ASSENTE</button>
            <button onclick="annullaScelta('riga07')" id="annulla07" disabled>Annulla</button>
        </div>
    </div>
</div>

    
    <div class="riga" id="riga08">
        <div class="nome">
            DE BIASE Andrea
            <div class="pulsante-container">
                <button onclick="aggiungiRiepilogo('DE BIASE Andrea', 'riga08', 'I TURNO')">I TURNO</button>
                <button onclick="aggiungiRiepilogo('DE BIASE Andrea', 'riga08', 'II TURNO')">II TURNO</button>
                <button onclick="aggiungiRiepilogo('DE BIASE Andrea', 'riga08', 'ASSENTE')">ASSENTE</button>
                <button onclick="annullaScelta('riga08')" id="annulla08" disabled>Annulla</button>
            </div>
        </div>
    </div>
    
    <div class="riga" id="riga09">
        <div class="nome">
            DE SANTO Mattia
            <div class="pulsante-container">
                <button onclick="aggiungiRiepilogo('DE SANTO Mattia', 'riga09', 'I TURNO')">I TURNO</button>
                <button onclick="aggiungiRiepilogo('DE SANTO Mattia', 'riga09', 'II TURNO')">II TURNO</button>
                <button onclick="aggiungiRiepilogo('DE SANTO Mattia', 'riga09', 'ASSENTE')">ASSENTE</button>
                <button onclick="annullaScelta('riga09')" id="annulla09" disabled>Annulla</button>
            </div>
        </div>
    </div>
    
    <div class="riga" id="riga10">
        <div class="nome">
            DI MAURO Vincenzo
            <div class="pulsante-container">
                <button onclick="aggiungiRiepilogo('DI MAURO Vincenzo', 'riga10', 'I TURNO')">I TURNO</button>
                <button onclick="aggiungiRiepilogo('DI MAURO Vincenzo', 'riga10', 'II TURNO')">II TURNO</button>
                <button onclick="aggiungiRiepilogo('DI MAURO Vincenzo', 'riga10', 'ASSENTE')">ASSENTE</button>
                <button onclick="annullaScelta('riga10')" id="annulla10" disabled>Annulla</button>
            </div>
        </div>
    </div>
    
    <div class="riga" id="riga11">
        <div class="nome">
            DI PAOLA Francesco
            <div class="pulsante-container">
                <button onclick="aggiungiRiepilogo('DI PAOLA Francesco', 'riga11', 'I TURNO')">I TURNO</button>
                <button onclick="aggiungiRiepilogo('DI PAOLA Francesco', 'riga11', 'II TURNO')">II TURNO</button>
                <button onclick="aggiungiRiepilogo('DI PAOLA Francesco', 'riga11', 'ASSENTE')">ASSENTE</button>
                <button onclick="annullaScelta('riga11')" id="annulla11" disabled>Annulla</button>
            </div>
        </div>
    </div>
    
    <div class="riga" id="riga12">
        <div class="nome">
            DI SERIO Andrea
            <div class="pulsante-container">
                <button onclick="aggiungiRiepilogo('DI SERIO Andrea', 'riga12', 'I TURNO')">I TURNO</button>
                <button onclick="aggiungiRiepilogo('DI SERIO Andrea', 'riga12', 'II TURNO')">II TURNO</button>
                <button onclick="aggiungiRiepilogo('DI SERIO Andrea', 'riga12', 'ASSENTE')">ASSENTE</button>
                <button onclick="annullaScelta('riga12')" id="annulla12" disabled>Annulla</button>
            </div>
        </div>
    </div>
    
    <div class="riga" id="riga13">
        <div class="nome">
            ESPOSITO Salvatore
            <div class="pulsante-container">
                <button onclick="aggiungiRiepilogo('ESPOSITO Salvatore', 'riga13', 'I TURNO')">I TURNO</button>
                <button onclick="aggiungiRiepilogo('ESPOSITO Salvatore', 'riga13', 'II TURNO')">II TURNO</button>
                <button onclick="aggiungiRiepilogo('ESPOSITO Salvatore', 'riga13', 'ASSENTE')">ASSENTE</button>
                <button onclick="annullaScelta('riga13')" id="annulla13" disabled>Annulla</button>
            </div>
        </div>
    </div>
    
    <div class="riga" id="riga14">
        <div class="nome">
            FIORELLA Luigi
            <div class="pulsante-container">
                <button onclick="aggiungiRiepilogo('FIORELLA Luigi', 'riga14', 'I TURNO')">I TURNO</button>
                <button onclick="aggiungiRiepilogo('FIORELLA Luigi', 'riga14', 'II TURNO')">II TURNO</button>
                <button onclick="aggiungiRiepilogo('FIORELLA Luigi', 'riga14', 'ASSENTE')">ASSENTE</button>
                <button onclick="annullaScelta('riga14')" id="annulla14" disabled>Annulla</button>
            </div>
        </div>
    </div>
    
    <div class="riga" id="riga15">
        <div class="nome">
            GUERCIO Andrea
            <div class="pulsante-container">
                <button onclick="aggiungiRiepilogo('GUERCIO Andrea', 'riga15', 'I TURNO')">I TURNO</button>
                <button onclick="aggiungiRiepilogo('GUERCIO Andrea', 'riga15', 'II TURNO')">II TURNO</button>
                <button onclick="aggiungiRiepilogo('GUERCIO Andrea', 'riga15', 'ASSENTE')">ASSENTE</button>
                <button onclick="annullaScelta('riga15')" id="annulla15" disabled>Annulla</button>
            </div>
        </div>
    </div>
    
    <div class="riga" id="riga16">
        <div class="nome">
            LAURIA Gianluca
            <div class="pulsante-container">
                <button onclick="aggiungiRiepilogo('LAURIA Gianluca', 'riga16', 'I TURNO')">I TURNO</button>
                <button onclick="aggiungiRiepilogo('LAURIA Gianluca', 'riga16', 'II TURNO')">II TURNO</button>
                <button onclick="aggiungiRiepilogo('LAURIA Gianluca', 'riga16', 'ASSENTE')">ASSENTE</button>
                <button onclick="annullaScelta('riga16')" id="annulla16" disabled>Annulla</button>
            </div>
        </div>
    </div>
    
    <div class="riga" id="riga17">
        <div class="nome">
            LIBERTELLA Andrea
            <div class="pulsante-container">
                <button onclick="aggiungiRiepilogo('LIBERTELLA Andrea', 'riga17', 'I TURNO')">I TURNO</button>
                <button onclick="aggiungiRiepilogo('LIBERTELLA Andrea', 'riga17', 'II TURNO')">II TURNO</button>
                <button onclick="aggiungiRiepilogo('LIBERTELLA Andrea', 'riga17', 'ASSENTE')">ASSENTE</button>
                <button onclick="annullaScelta('riga17')" id="annulla17" disabled>Annulla</button>
            </div>
        </div>
    </div>
    
    <div class="riga" id="riga18">
        <div class="nome">
            LO VECI Marco
            <div class="pulsante-container">
                <button onclick="aggiungiRiepilogo('LO VECI Marco', 'riga18', 'I TURNO')">I TURNO</button>
                <button onclick="aggiungiRiepilogo('LO VECI Marco', 'riga18', 'II TURNO')">II TURNO</button>
                <button onclick="aggiungiRiepilogo('LO VECI Marco', 'riga18', 'ASSENTE')">ASSENTE</button>
                <button onclick="annullaScelta('riga18')" id="annulla18" disabled>Annulla</button>
            </div>
        </div>
    </div>
    
    <div class="riga" id="riga19">
        <div class="nome">
            MALLAURINO Cristian
            <div class="pulsante-container">
                <button onclick="aggiungiRiepilogo('MALLAURINO Cristian', 'riga19', 'I TURNO')">I TURNO</button>
                <button onclick="aggiungiRiepilogo('MALLAURINO Cristian', 'riga19', 'II TURNO')">II TURNO</button>
                <button onclick="aggiungiRiepilogo('MALLAURINO Cristian', 'riga19', 'ASSENTE')">ASSENTE</button>
                <button onclick="annullaScelta('riga19')" id="annulla19" disabled>Annulla</button>
            </div>
        </div>
    </div>
    
    <div class="riga" id="riga20">
        <div class="nome">
            MANCINO Gaetano
            <div class="pulsante-container">
                <button onclick="aggiungiRiepilogo('MANCINO Gaetano', 'riga20', 'I TURNO')">I TURNO</button>
                <button onclick="aggiungiRiepilogo('MANCINO Gaetano', 'riga20', 'II TURNO')">II TURNO</button>
                <button onclick="aggiungiRiepilogo('MANCINO Gaetano', 'riga20', 'ASSENTE')">ASSENTE</button>
                <button onclick="annullaScelta('riga20')" id="annulla20" disabled>Annulla</button>
            </div>
        </div>
    </div>
    
    <div class="riga" id="riga21">
        <div class="nome">
            MASTRANGELO Manuel
            <div class="pulsante-container">
                <button onclick="aggiungiRiepilogo('MASTRANGELO Manuel', 'riga21', 'I TURNO')">I TURNO</button>
                <button onclick="aggiungiRiepilogo('MASTRANGELO Manuel', 'riga21', 'II TURNO')">II TURNO</button>
                <button onclick="aggiungiRiepilogo('MASTRANGELO Manuel', 'riga21', 'ASSENTE')">ASSENTE</button>
                <button onclick="annullaScelta('riga21')" id="annulla21" disabled>Annulla</button>
            </div>
        </div>
    </div>
    
    <div class="riga" id="riga22">
        <div class="nome">
            NARDIELLO Donato
            <div class="pulsante-container">
                <button onclick="aggiungiRiepilogo('NARDIELLO Donato', 'riga22', 'I TURNO')">I TURNO</button>
                <button onclick="aggiungiRiepilogo('NARDIELLO Donato', 'riga22', 'II TURNO')">II TURNO</button>
                <button onclick="aggiungiRiepilogo('NARDIELLO Donato', 'riga22', 'ASSENTE')">ASSENTE</button>
                <button onclick="annullaScelta('riga22')" id="annulla22" disabled>Annulla</button>
            </div>
        </div>
    </div>
    
    <div class="riga" id="riga23">
        <div class="nome">
            OLIVETO Samuel
            <div class="pulsante-container">
                <button onclick="aggiungiRiepilogo('OLIVETO Samuel', 'riga23', 'I TURNO')">I TURNO</button>
                <button onclick="aggiungiRiepilogo('OLIVETO Samuel', 'riga23', 'II TURNO')">II TURNO</button>
                <button onclick="aggiungiRiepilogo('OLIVETO Samuel', 'riga23', 'ASSENTE')">ASSENTE</button>
                <button onclick="annullaScelta('riga23')" id="annulla23" disabled>Annulla</button>
            </div>
        </div>
    </div>
    
    <div class="riga" id="riga24">
        <div class="nome">
            PADULA Lorenzo
            <div class="pulsante-container">
                <button onclick="aggiungiRiepilogo('PADULA Lorenzo', 'riga24', 'I TURNO')">I TURNO</button>
                <button onclick="aggiungiRiepilogo('PADULA Lorenzo', 'riga24', 'II TURNO')">II TURNO</button>
                <button onclick="aggiungiRiepilogo('PADULA Lorenzo', 'riga24', 'ASSENTE')">ASSENTE</button>
                <button onclick="annullaScelta('riga24')" id="annulla24" disabled>Annulla</button>
            </div>
        </div>
    </div>
    
    <div class="riga" id="riga25">
        <div class="nome">
            PANGARO Matteo Carmelo
            <div class="pulsante-container">
                <button onclick="aggiungiRiepilogo('PANGARO Matteo Carmelo', 'riga25', 'I TURNO')">I TURNO</button>
                <button onclick="aggiungiRiepilogo('PANGARO Matteo Carmelo', 'riga25', 'II TURNO')">II TURNO</button>
                <button onclick="aggiungiRiepilogo('PANGARO Matteo Carmelo', 'riga25', 'ASSENTE')">ASSENTE</button>
                <button onclick="annullaScelta('riga25')" id="annulla25" disabled>Annulla</button>
            </div>
        </div>
    </div>
    
    <div class="riga" id="riga26">
        <div class="nome">
            PETRONE Attilio Saverio
            <div class="pulsante-container">
                <button onclick="aggiungiRiepilogo('PETRONE Attilio Saverio', 'riga26', 'I TURNO')">I TURNO</button>
                <button onclick="aggiungiRiepilogo('PETRONE Attilio Saverio', 'riga26', 'II TURNO')">II TURNO</button>
                <button onclick="aggiungiRiepilogo('PETRONE Attilio Saverio', 'riga26', 'ASSENTE')">ASSENTE</button>
                <button onclick="annullaScelta('riga26')" id="annulla26" disabled>Annulla</button>
            </div>
        </div>
    </div>
    
    <div class="riga" id="riga27">
        <div class="nome">
            PIERNO Marek
            <div class="pulsante-container">
                <button onclick="aggiungiRiepilogo('PIERNO Marek', 'riga27', 'I TURNO')">I TURNO</button>
                <button onclick="aggiungiRiepilogo('PIERNO Marek', 'riga27', 'II TURNO')">II TURNO</button>
                <button onclick="aggiungiRiepilogo('PIERNO Marek', 'riga27', 'ASSENTE')">ASSENTE</button>
                <button onclick="annullaScelta('riga27')" id="annulla27" disabled>Annulla</button>
            </div>
        </div>
    </div>
    
    <div class="riga" id="riga28">
        <div class="nome">
            PISA Claudio
            <div class="pulsante-container">
                <button onclick="aggiungiRiepilogo('PISA Claudio', 'riga28', 'I TURNO')">I TURNO</button>
                <button onclick="aggiungiRiepilogo('PISA Claudio', 'riga28', 'II TURNO')">II TURNO</button>
                <button onclick="aggiungiRiepilogo('PISA Claudio', 'riga28', 'ASSENTE')">ASSENTE</button>
                <button onclick="annullaScelta('riga28')" id="annulla28" disabled>Annulla</button>
            </div>
        </div>
    </div>
    
    <div class="riga" id="riga29">
        <div class="nome">
            SAGARIA Mattia
            <div class="pulsante-container">
                <button onclick="aggiungiRiepilogo('SAGARIA Mattia', 'riga29', 'I TURNO')">I TURNO</button>
                <button onclick="aggiungiRiepilogo('SAGARIA Mattia', 'riga29', 'II TURNO')">II TURNO</button>
                <button onclick="aggiungiRiepilogo('SAGARIA Mattia', 'riga29', 'ASSENTE')">ASSENTE</button>
                <button onclick="annullaScelta('riga29')" id="annulla29" disabled>Annulla</button>
            </div>
        </div>
    </div>
    
    <div class="riga" id="riga30">
        <div class="nome">
            SIRICO Vincenzo
            <div class="pulsante-container">
                <button onclick="aggiungiRiepilogo('SIRICO Vincenzo', 'riga30', 'I TURNO')">I TURNO</button>
                <button onclick="aggiungiRiepilogo('SIRICO Vincenzo', 'riga30', 'II TURNO')">II TURNO</button>
                <button onclick="aggiungiRiepilogo('SIRICO Vincenzo', 'riga30', 'ASSENTE')">ASSENTE</button>
                <button onclick="annullaScelta('riga30')" id="annulla30" disabled>Annulla</button>
            </div>
        </div>
    </div>
    
    <div class="riga" id="riga31">
        <div class="nome">
            TARANTINO Mattia
            <div class="pulsante-container">
                <button onclick="aggiungiRiepilogo('TARANTINO Mattia', 'riga31', 'I TURNO')">I TURNO</button>
                <button onclick="aggiungiRiepilogo('TARANTINO Mattia', 'riga31', 'II TURNO')">II TURNO</button>
                <button onclick="aggiungiRiepilogo('TARANTINO Mattia', 'riga31', 'ASSENTE')">ASSENTE</button>
                <button onclick="annullaScelta('riga31')" id="annulla31" disabled>Annulla</button>
            </div>
        </div>
    </div>
    
    <div class="riga" id="riga32">
        <div class="nome">
            TRAPANESE Aniello
            <div class="pulsante-container">
                <button onclick="aggiungiRiepilogo('TRAPANESE Aniello', 'riga32', 'I TURNO')">I TURNO</button>
                <button onclick="aggiungiRiepilogo('TRAPANESE Aniello', 'riga32', 'II TURNO')">II TURNO</button>
                <button onclick="aggiungiRiepilogo('TRAPANESE Aniello', 'riga32', 'ASSENTE')">ASSENTE</button>
                <button onclick="annullaScelta('riga32')" id="annulla32" disabled>Annulla</button>
            </div>
        </div>
    </div>
    
    <div class="riga" id="riga33">
        <div class="nome">
            TRISTANO Davide
            <div class="pulsante-container">
                <button onclick="aggiungiRiepilogo('TRISTANO Davide', 'riga33', 'I TURNO')">I TURNO</button>
                <button onclick="aggiungiRiepilogo('TRISTANO Davide', 'riga33', 'II TURNO')">II TURNO</button>
                <button onclick="aggiungiRiepilogo('TRISTANO Davide', 'riga33', 'ASSENTE')">ASSENTE</button>
                <button onclick="annullaScelta('riga33')" id="annulla33" disabled>Annulla</button>
            </div>
        </div>
    </div>
    
    <div class="riga" id="riga34">
        <div class="nome">
            VIOLA Jacopo
            <div class="pulsante-container">
                <button onclick="aggiungiRiepilogo('VIOLA Jacopo', 'riga34', 'I TURNO')">I TURNO</button>
                <button onclick="aggiungiRiepilogo('VIOLA Jacopo', 'riga34', 'II TURNO')">II TURNO</button>
                <button onclick="aggiungiRiepilogo('VIOLA Jacopo', 'riga34', 'ASSENTE')">ASSENTE</button>
                <button onclick="annullaScelta('riga34')" id="annulla34" disabled>Annulla</button>
            </div>
        </div>
    </div>
    

</div>


<!-- Riepilogo -->
<div id="riepilogo">
    <h2>Riepilogo</h2>
    <ul id="riepilogoLista"></ul>
    <button id="esportaButton" onclick="esportaRiepilogo()">Esporta Riepilogo</button>
</div>

<button id="reset"  onclick="resetta()">Resetta</button>

<button id="pulsanteNaviga" onclick="navigaAPagina('convittoriCena.html')">Presenze Convittori Cena</button>


<button id="pulsanteNaviga" onclick="navigaAPagina('index.html')">Presenze Semiconvittori</button>


<script>
    
     var sommaITurno = 0;
    var sommaIITurno = 0;
    var sommaIIITurno = 0; 
    var elencoITurno = [];
    var elencoIITurno = [];
    var elencoIIITurno = []; 
    var elencoAssenti = [];


    function aggiungiRiepilogo(nome, idRiga, turno) {
        // Aggiornamento della somma e degli elenchi
        if(turno === 'ASSENTE'){
            elencoAssenti.push(nome);
        } else if (turno === 'I TURNO') {
            playSound(1);
            sommaITurno++;
            elencoITurno.push(nome);
            document.getElementById(idRiga).classList.add('rigaPulsantePremutoI');
        } else if (turno === 'II TURNO') {
            playSound(2);
            sommaIITurno++;
            elencoIITurno.push(nome);
            document.getElementById(idRiga).classList.add('rigaPulsantePremutoII');
        } else if(turno === 'III TURNO') {
            playSound(3);
            sommaIIITurno++;
            elencoIIITurno.push(nome);
            document.getElementById(idRiga).classList.add('rigaPulsantePremutoIII')
        } 

        // Visualizza il riepilogo se non è già visibile
        var riepilogo = document.getElementById('riepilogo');
        if (riepilogo.style.display === 'none') {
            riepilogo.style.display = 'block';
        }

        // Disabilita i pulsanti e cambia lo sfondo della riga
        var riga = document.getElementById(idRiga);
        riga.classList.add('rigaPulsantePremuto');
        var pulsanti = riga.querySelectorAll('.pulsante-container button');
        pulsanti.forEach(function(pulsante) {
            pulsante.disabled = true;
        });

        // Abilita il pulsante "Annulla"
        var annullaButton = document.getElementById('annulla' + idRiga.slice(-2));
        annullaButton.disabled = false;

        aggiornaRiepilogo();

        salvaStatoInLocalStorage();
    }


    function leggiPassword(){
        var passwordInserita = prompt("Inserisci la password per annullare la scelta:");

        // Controlla se la password è corretta
        var passwordCorretta = "srosa25"; // Sostituisci con la tua password
        if (passwordInserita !== passwordCorretta) {
            alert("Password errata.");
            return false; // Interrompe l'esecuzione della funzione se la password è errata
        } 
        return true;
    }


    // Funzione per annullare la scelta
    function annullaScelta(idRiga) {
        if(!leggiPassword()){
            return;
        }
        var riga = document.getElementById(idRiga);
        riga.classList.remove('rigaPulsantePremuto', 'rigaPulsantePremutoI', 'rigaPulsantePremutoII', 'rigaPulsantePremutoIII');
        var pulsanti = riga.querySelectorAll('.pulsante-container button');
        pulsanti.forEach(function(pulsante) {
            pulsante.disabled = false;
        });

        // Disabilita il pulsante "Annulla"
        var annullaButton = document.getElementById('annulla' + idRiga.slice(-2));
        annullaButton.disabled = true;

        nome = riga.querySelector('.nome').firstChild.textContent.trim()
        // Verifica se il nome estratto è presente nell'array
        if (elencoITurno.includes(nome)) {
            indiceITurno = elencoITurno.indexOf(nome);
            elencoITurno.splice(indiceITurno, 1);
            sommaITurno--;
        } else if(elencoIITurno.includes(nome)) {
            indiceIITurno = elencoIITurno.indexOf(nome);
            elencoIITurno.splice(indiceIITurno, 1);
            sommaIITurno--;
        } else if(elencoIIITurno.includes(nome)){
            indiceIIITurno = elencoIIITurno.indexOf(nome);
            elencoIIITurno.splice(indiceIIITurno, 1);
            sommaIIITurno--;
        } else {
            indiceAssente = elencoAssenti.indexOf(nome);
            elencoAssenti.splice(indiceAssente,1);
        }
 
        aggiornaRiepilogo()

        salvaStatoInLocalStorage()
    }

    // Funzione per aggiornare il riepilogo
    function aggiornaRiepilogo() {
        // Trova l'elemento della lista del riepilogo
        var riepilogoLista = document.getElementById('riepilogoLista');

        // Cancella i vecchi elementi nella lista del riepilogo
        riepilogoLista.innerHTML = '';

        elencoITurno.forEach(function(nome) {
            var nuovaVoce = document.createElement('li');
            nuovaVoce.textContent = nome + ' - I TURNO';
            riepilogoLista.appendChild(nuovaVoce);
        });

        var spazio = document.createElement('li');
        spazio.style.height = '10px'; 
        riepilogoLista.appendChild(spazio);

        elencoIITurno.forEach(function(nome) {
            var nuovaVoce = document.createElement('li');
            nuovaVoce.textContent = nome + ' - II TURNO';
            riepilogoLista.appendChild(nuovaVoce);
        });

        riepilogoLista.appendChild(spazio);


        elencoIIITurno.forEach(function(nome) {
            var nuovaVoce = document.createElement('li');
            nuovaVoce.textContent = nome + ' - III TURNO';
            riepilogoLista.appendChild(nuovaVoce);
        });

        riepilogoLista.appendChild(spazio);

        elencoAssenti.forEach(function(nome) {
            var nuovaVoce = document.createElement('li');
            nuovaVoce.textContent = nome + ' - ASSENTE';
            riepilogoLista.appendChild(nuovaVoce);
        });

    }

    // Funzione per ottenere la data di oggi in formato "gg/mm/aaaa"
    function getDataOggi() {
        var oggi = new Date();
        var giorno = oggi.getDate();
        var mese = oggi.getMonth() + 1; // Gennaio è 0
        var anno = oggi.getFullYear();

        // Formatta la data come "gg/mm/aaaa"
        return giorno + '/' + mese + '/' + anno;
    }

    function caricaStatoDaLocalStorage() {
            // Carica i dati da localStorage
            var statoITurno = localStorage.getItem('statoITurnoConvittori');
            var statoIITurno = localStorage.getItem('statoIITurnoConvittori');
            var statoIIITurno = localStorage.getItem('statoIIITurnoConvittori');
            var statoAssenti = localStorage.getItem('statoAssentiConvittori');

            // Verifica se i dati sono presenti in localStorage
            if (statoITurno) {
                elencoITurno = JSON.parse(statoITurno);
                sommaITurno = elencoITurno.length;
            }

            if (statoIITurno) {
                elencoIITurno = JSON.parse(statoIITurno);
                sommaIITurno = elencoIITurno.length;
            } 

            if(statoIIITurno){
                elencoIIITurno = JSON.parse(statoIIITurno);
                sommaIIITurno = elencoIIITurno.length;
            }

            if(statoAssenti){
                statoAssenti = JSON.parse(statoAssenti);
            }

            // Aggiorna il riepilogo
            aggiornaRiepilogo();
    }


    function salvaStatoInLocalStorage() {
        localStorage.setItem('statoITurnoConvittori', JSON.stringify(elencoITurno));
        localStorage.setItem('statoIITurnoConvittori', JSON.stringify(elencoIITurno));
        localStorage.setItem('statoIIITurnoConvittori', JSON.stringify(elencoIIITurno));
        localStorage.setItem('statoAssentiConvittori', JSON.stringify(elencoAssenti));
    }

    function ricoloraRighe() {
        elencoITurno.forEach(function (nome) {
            var idRiga = ricercaIdRigaDaNome(nome);
            if (idRiga) {
                var riga = document.getElementById(idRiga);
                riga.classList.add('rigaPulsantePremutoI');
                riga.classList.add('rigaPulsantePremuto');
                var pulsanti = riga.querySelectorAll('.pulsante-container button');
                pulsanti.forEach(function(pulsante) {
                    pulsante.disabled = true;
                });

                // Abilita il pulsante "Annulla"
                var annullaButton = document.getElementById('annulla' + idRiga.slice(-2));
                annullaButton.disabled = false;
            }
        });

        elencoIITurno.forEach(function (nome) {
            var idRiga = ricercaIdRigaDaNome(nome);
            if (idRiga) {
                var riga = document.getElementById(idRiga);
                riga.classList.add('rigaPulsantePremutoII');
                riga.classList.add('rigaPulsantePremuto');
                var pulsanti = riga.querySelectorAll('.pulsante-container button');
                pulsanti.forEach(function(pulsante) {
                    pulsante.disabled = true;
                });

                // Abilita il pulsante "Annulla"
                var annullaButton = document.getElementById('annulla' + idRiga.slice(-2));
                annullaButton.disabled = false;
            }
        });

        elencoIIITurno.forEach(function (nome) {
            var idRiga = ricercaIdRigaDaNome(nome);
            if (idRiga) {
                var riga = document.getElementById(idRiga);
                riga.classList.add('rigaPulsantePremutoIII');
                riga.classList.add('rigaPulsantePremuto');
                var pulsanti = riga.querySelectorAll('.pulsante-container button');
                pulsanti.forEach(function(pulsante) {
                    pulsante.disabled = true;
                });

                // Abilita il pulsante "Annulla"
                var annullaButton = document.getElementById('annulla' + idRiga.slice(-2));
                annullaButton.disabled = false;
            }
        });

        elencoAssenti.forEach(function (nome) {
            var idRiga = ricercaIdRigaDaNome(nome);
            if (idRiga) {
                var riga = document.getElementById(idRiga);
                riga.classList.add('rigaPulsantePremuto');
                var pulsanti = riga.querySelectorAll('.pulsante-container button');
                pulsanti.forEach(function(pulsante) {
                    pulsante.disabled = true;
                });

                // Abilita il pulsante "Annulla"
                var annullaButton = document.getElementById('annulla' + idRiga.slice(-2));
                annullaButton.disabled = false;
            }
        });    
    }

    // Funzione per cercare l'ID della riga da un nome
    function ricercaIdRigaDaNome(nome) {
        console.log(nome)
        var righe = document.querySelectorAll('.riga');
        for (var i = 0; i < righe.length; i++) {
            var nomeRiga = righe[i].querySelector('.nome').firstChild.textContent.trim();
            if (nomeRiga === nome) {
                console.log(righe[i].id)
                return righe[i].id;
            }
        }
        return null;
    }

    function resetta() {
        if(!leggiPassword()){
            return;
        } 
        localStorage.removeItem('statoITurnoConvittori');
        localStorage.removeItem('statoIITurnoConvittori');
        localStorage.removeItem('statoIIITurnoConvittori');
        localStorage.removeItem('statoAssentiConvittori');
        elencoITurno = [];
        elencoIITurno = [];
        elencoIIITurno = [];
        sommaITurno = 0;
        sommaIITurno = 0;
        sommaIIITurno = 0;
        location.reload();
    }

    // Chiamata per caricare lo stato al caricamento della pagina
    caricaStatoDaLocalStorage();
    ricoloraRighe();

    // Aggiungi la data di oggi al div con id "dataOggi"
    document.getElementById('dataOggi').textContent = 'Pranzo ' + getDataOggi();

    // Funzione per esportare il riepilogo
    function esportaRiepilogo() {

        var oggi = new Date();
        var giorno = oggi.getDate();
        var mese = oggi.getMonth() + 1; // Gennaio è 0
        var anno = oggi.getFullYear();

        // Creazione del testo per il file .txt
        var testoFile = "Pranzo convittori " + giorno + '/' + mese + '/' + anno + "\n\n";
        testoFile += "Elenco I TURNO:\n" + elencoITurno.join("\n") + "\nTotale: " + sommaITurno + "\n\n";
        testoFile += "Elenco II TURNO:\n" + elencoIITurno.join("\n") + "\nTotale: " + sommaIITurno + "\n\n";
        testoFile += "Elenco III TURNO:\n" + elencoIIITurno.join("\n") + "\nTotale: " + sommaIIITurno + "\n\n\n\n";
        var tot = sommaITurno + sommaIITurno + sommaIIITurno
        testoFile += "TOTALE: " + tot + "\n\n\n\n";

        testoFile += "ASSENTI: \n" + elencoAssenti.join("\n");

        // Creazione dell'oggetto Blob
        var blob = new Blob([testoFile], { type: 'text/plain' });

        // Creazione del link di download
        var link = document.createElement('a');
        link.href = window.URL.createObjectURL(blob);

        var nomeFile = 'Convittori_Pranzo_' + giorno + '_' + mese + '_' + anno + '.txt';

        link.download = nomeFile;
        link.click();
    }

    // Funzione per navigare alla nuova pagina
    function navigaAPagina(pagina) {
        window.location.href = pagina;
    }

    function playSound(turno) {
        if(turno === 1) {
            var audio = new Audio('suono2.mp3');
            audio.play();
        } else if (turno === 2) {
            var audio = new Audio('suono1.mp3');
            audio.play();
        } else {
            var audio = new Audio('suono3.mp3');
            audio.play();
        }
    }

</script>

</body>
</html>
